From 46bbf63bfa678cfb48ba8f2c0012101db5b3c691 Mon Sep 17 00:00:00 2001
From: Sean Dougherty <sdougherty@microsoft.com>
Date: Tue, 2 Jul 2024 18:20:49 +0000
Subject: [PATCH] Description: fix signal handler race condition for
 Regresshion CVE. https://nvd.nist.gov/vuln/detail/CVE-2024-6387

---
 log.c | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/log.c b/log.c
index 99bf046..2d231ca 100644
--- a/log.c
+++ b/log.c
@@ -451,12 +451,13 @@ void
 sshsigdie(const char *file, const char *func, int line, int showfunc,
     LogLevel level, const char *suffix, const char *fmt, ...)
 {
+#if 0
 	va_list args;
-
 	va_start(args, fmt);
 	sshlogv(file, func, line, showfunc, SYSLOG_LEVEL_FATAL,
 	    suffix, fmt, args);
 	va_end(args);
+#endif
 	_exit(1);
 }
 
-- 
2.39.4

